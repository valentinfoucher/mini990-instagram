"use strict";

var React = require("react");

var styletron = require("./index");

var _require = require("styletron-react"),
    Provider = _require.Provider; // eslint-disable-next-line react/prop-types


exports.wrapRootElement = function (_ref, options) {
  var element = _ref.element;
  return React.createElement(Provider, {
    value: styletron(options).instance
  }, element);
};

exports.onRenderBody = function (_ref2, options) {
  var setHeadComponents = _ref2.setHeadComponents;
  var instance = styletron(options).instance;
  var stylesheets = instance.getStylesheets();
  var headComponents = stylesheets[0].css ? stylesheets.map(function (sheet, index) {
    return React.createElement("style", {
      className: "_styletron_hydrate_",
      dangerouslySetInnerHTML: {
        __html: sheet.css
      },
      key: index,
      media: sheet.attrs.media,
      "data-hydrate": sheet.attrs["data-hydrate"]
    });
  }) : null;
  setHeadComponents(headComponents);
};